@page "/Logout"

@inject NavigationManager NavigationManager
@inject LoginClient LoginClient

@rendermode InteractiveServer

<PageTitle>Log Out</PageTitle>

<h1>Log Out?</h1>

@if (LoginClient.GetLoggedInUser().Username.Equals(string.Empty))
{
    <p>Page inaccessible</p>
}
else
{
    <button type="submit" class="btn btn-primary" @onclick="@ResetDetails">Log Out</button>
    <a role="button" class="btn btn-secondary" href="/">Cancel</a>
}

@code {
    private void ResetDetails()
    {
        LoginClient.ResetLogin();
        NavigationManager.NavigateTo("/");
    }
}
